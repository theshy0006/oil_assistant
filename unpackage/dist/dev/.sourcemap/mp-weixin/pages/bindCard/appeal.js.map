{"version":3,"sources":["uni-app:///main.js","webpack:////Users/dedewang/Desktop/oil_assistant/pages/bindCard/appeal.vue?ffe6","webpack:////Users/dedewang/Desktop/oil_assistant/pages/bindCard/appeal.vue?9e7d","webpack:////Users/dedewang/Desktop/oil_assistant/pages/bindCard/appeal.vue?4660","webpack:////Users/dedewang/Desktop/oil_assistant/pages/bindCard/appeal.vue?5f57","uni-app:///pages/bindCard/appeal.vue","webpack:////Users/dedewang/Desktop/oil_assistant/pages/bindCard/appeal.vue?059e","webpack:////Users/dedewang/Desktop/oil_assistant/pages/bindCard/appeal.vue?5efd"],"names":["createPage","Page"],"mappings":"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","file":"pages/bindCard/appeal.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/bindCard/appeal.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./appeal.vue?vue&type=template&id=1a5b55f0&\"\nvar renderjs\nimport script from \"./appeal.vue?vue&type=script&lang=js&\"\nexport * from \"./appeal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./appeal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/bindCard/appeal.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appeal.vue?vue&type=template&id=1a5b55f0&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appeal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appeal.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n        <form>\n        \t<view class=\"cu-form-group margin-top\">\n        \t\t<view class=\"title\">副卡卡号</view>\n        \t\t<input placeholder=\"请输入副卡卡号\" name=\"input\" \n                type=\"number\" v-model=\"cardNo\" disabled = 'true' style=\"text-align:right\">\n                </input>\n        \t</view>\n        \t<view class=\"cu-form-group\">\n        \t\t<view class=\"title\">手机号</view>\n        \t\t<input placeholder=\"请输入手机号\" name=\"input\" \n                type=\"number\" v-model=\"phone\" disabled = 'true' style=\"text-align:right\">\n                </input>\n        \t</view>\n        \t<view class=\"cu-form-group\">\n        \t\t<view class=\"title\">姓名</view>\n        \t\t<input placeholder=\"请输入您的姓名\" \n                name=\"input\" style=\"text-align:right\" v-model=\"driverName\">\n                </input>\n        \t</view>\n            <view class=\"cu-form-group align-start\">\n\t\t\t\t<view class=\"title\">申诉理由</view>\n\t\t\t\t<textarea maxlength=\"50\" v-model=\"reason\"\n                 placeholder=\"请简单描述您的持卡情况，例如持卡时间、主卡持有人\">\n                </textarea>\n\t\t\t</view>\n            <view class=\"cu-bar bg-white margin-top\">\n            \t<view class=\"action\">\n            \t\t图片上传\n            \t</view>\n            \t<view class=\"action\">\n            \t\t{{imgList.length}}/3\n            \t</view>\n            </view>\n            <view class=\"cu-form-group\">\n            \t<view class=\"grid col-4 grid-square flex-sub\">\n            \t\t<view class=\"bg-img\" v-for=\"(item,index) in imgList\" :key=\"index\" @tap=\"ViewImage\" :data-url=\"imgList[index]\">\n            \t\t <image :src=\"imgList[index]\" mode=\"aspectFill\"></image>\n            \t\t\t<view class=\"cu-tag bg-red\" @tap.stop=\"DelImg\" :data-index=\"index\">\n            \t\t\t\t<text class='cuIcon-close'></text>\n            \t\t\t</view>\n            \t\t</view>\n            \t\t<view class=\"solids\" @tap=\"ChooseImage\" v-if=\"imgList.length<3\">\n            \t\t\t<text class='cuIcon-cameraadd'></text>\n            \t\t</view>\n            \t</view>\n            </view>\n            <view class=\"redAlert\">为了更好的核实持卡人，请您上传本人手持副卡的照片</view>\n        </form>\n        <view class=\"padding flex flex-direction bottomButton\">\n        \t<button class=\"cu-btn bg-blue margin-tb-sm lg shadow\" @click=\"upload\">确认提交</button>\n        </view>\n        \n        <view class=\"cu-load load-customModal\" v-if=\"loadModal\">\n        \t<image src=\"/static/loading.gif\" mode=\"aspectFit\" class=\"gif-white response\"></image>\n        </view>\n        \n\t</view>\n</template>\n\n<script>\n    import Vue from 'vue'\n    import {\n    \tmapState\n    } from 'vuex'\n\texport default {\n        computed: mapState(['token', 'phone', 'name']),\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\timgList: [],\n                cardNo:\"\",\n                reason:'',\n                driverName:'',\n                loadModal:false,\n                urlArray: []\n\t\t\t};\n\t\t},\n        onLoad: function (option) {\n            console.log(option.cardNo); //打印出上个页面传递的参数。\n            console.log(this.phone)\n            this.cardNo = option.cardNo\n            this.driverName = this.name;\n        },\n        methods: {\n            LoadModal(e) {\n                this.loadModal = true;\n            },\n            ChooseImage() {\n                var that = this\n            \tuni.chooseImage({\n            \t\tcount: 1, //默认9\n            \t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n            \t\tsourceType: ['album','camera'], //从相册选择\n            \t\tsuccess: (res) => {\n            \t\t\tif (that.imgList.length != 0) {\n                            if ((that.imgList.length + res.tempFilePaths.length) <= 3) {\n                              that.imgList = that.imgList.concat(res.tempFilePaths)\n                            } else {\n                                uni.showToast({\n                                    title:'最多只能上传3张图片',\n                                    icon:'none'\n                                })\n                            }\n            \t\t\t} else {\n            \t\t\t\tthat.imgList = res.tempFilePaths\n            \t\t\t}\n                        that.uploadImage(res.tempFilePaths)\n            \t\t}\n            \t});\n            },\n            ViewImage(e) {\n            \tuni.previewImage({\n            \t\turls: this.imgList,\n            \t\tcurrent: e.currentTarget.dataset.url\n            \t});\n            },\n            \n            uploadImage(array) {\n                this.LoadModal()\n                uni.uploadFile({\n                    url: this.GLOBAL.UploadImage_URL, //仅为示例，非真实的接口地址\n                    name:'file',\n                    filePath:array[0],\n                    formData: {\n                        'file': 'file',\n                        'user': 'test'\n                    },\n                    success: (uploadFileRes) => {\n                        this.loadModal = false;\n                        console.log(uploadFileRes.data);\n                        let response = JSON.parse(uploadFileRes.data);\n                        if (response.code == \"000000\") {\n                            if (this.urlArray.length < 3) {\n                                this.urlArray.push(response.data)\n                            }\n                        } else {\n                            uni.showToast({\n                            \ttitle:response.message,\n                            \ticon:\"none\"\n                            }) \n                        }\n                    },\n                    fail: (err) => {  \n                        this.loadModal = false\n                            console.log(err)  \n                        },  \n                        complete: (complete) => {  \n                            console.log(complete)   \n                        }  \n                });\n            },\n            \n            DelImg(e) {\n            \tuni.showModal({\n            \t\tcontent: '确定要删除这张照片吗？',\n            \t\tcancelText: '取消',\n            \t\tconfirmText: '确定',\n            \t\tsuccess: res => {\n            \t\t\tif (res.confirm) {\n            \t\t\t\tthis.imgList.splice(e.currentTarget.dataset.index, 1)\n                            this.urlArray.splice(e.currentTarget.dataset.index, 1)\n            \t\t\t}\n            \t\t}\n            \t})\n            },\n            \n            upload() {\n                if( this.driverName.length == 0 ) {\n                    uni.showToast({\n                        title:\"请输入姓名\",\n                        icon:'none'\n                    })\n                    return\n                }\n                \n                if (this.reason.length == 0 ) {\n                    uni.showToast({\n                        title:\"请输入申诉理由\",\n                        icon:'none'\n                    })\n                    return\n                }\n                \n                if (this.imgList.length == 0) {\n                    uni.showToast({\n                        title:\"请上传图片\",\n                        icon:'none'\n                    })\n                    return\n                }\n                var url = [];\n                url = url.concat(this.urlArray)\n                while(url.length < 3) {\n                    url.push('')\n                }\n                this.LoadModal()\n                uni.request({\n                    url: this.GLOBAL.CommitAppeal_URL,\n                    dataType: 'jsonp',\n                    method: 'POST',\n                    data: {\n                        access_token:this.token,\n                        sub_card: this.cardNo, // 页码\n                        phone:this.phone,\n                        name:this.driverName,\n                        reason:this.reason,\n                        pic1_url:url[0],\n                        pic2_url:url[1],\n                        pic3_url:url[2]\n                    }\n                }).then(data => {\n                    //data为一个数组，数组第一项为错误信息，第二项为返回数据\n                    this.loadModal = false;\n                    var [error, res]  = data;\n                    console.log(res.data);\n                    let response = JSON.parse(res.data);\n\n                    if ( response.code == \"000000\" ) {\n                        uni.showModal({\n                            title: '提交成功',\n                            showCancel: false,\n                        \tcontent: '请您确保电话畅通，我们将尽快核实并与您联系',\n                        \tconfirmText: '知道了',\n                        \tsuccess: res => {\n                                uni.navigateBack({\n                                    delta: 3\n                                });\n                        \t}\n                        })\n                    } else {\n                        uni.showToast({\n                        \ttitle:response.message,\n                        \ticon:\"none\"\n                        }) \n                    }\n                }).catch(err => {\n                    this.loadModal = false;\n                \tconsole.log('request fail', err);\n                \tuni.showModal({\n                \t\tcontent: err.errMsg,\n                \t\tshowCancel: false\n                \t});\n                }); \n            }\n        }\n\t}\n</script>\n\n<style lang=\"scss\">\n    .redAlert {\n        background-color: #FFFFFF;\n        color: #e54d42;\n        font-size: 24rpx;\n        padding-left: 24rpx;\n    }\n    .bottomButton {\n        position: fixed;\n        bottom: 0rpx;\n        width: 100%;\n    }\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appeal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appeal.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1599549239664\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}