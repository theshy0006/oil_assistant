{"version":3,"sources":["uni-app:///main.js","webpack:////Users/dedewang/Desktop/oil_assistant/pages/oilList/oilList.vue?28c9","webpack:////Users/dedewang/Desktop/oil_assistant/pages/oilList/oilList.vue?66b8","webpack:////Users/dedewang/Desktop/oil_assistant/pages/oilList/oilList.vue?af72","webpack:////Users/dedewang/Desktop/oil_assistant/pages/oilList/oilList.vue?fcf2","uni-app:///pages/oilList/oilList.vue","webpack:////Users/dedewang/Desktop/oil_assistant/pages/oilList/oilList.vue?2f41","webpack:////Users/dedewang/Desktop/oil_assistant/pages/oilList/oilList.vue?b983"],"names":["createPage","Page"],"mappings":"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","file":"pages/oilList/oilList.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/oilList/oilList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./oilList.vue?vue&type=template&id=0742cfb0&scoped=true&\"\nvar renderjs\nimport script from \"./oilList.vue?vue&type=script&lang=js&\"\nexport * from \"./oilList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./oilList.vue?vue&type=style&index=0&id=0742cfb0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0742cfb0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/oilList/oilList.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./oilList.vue?vue&type=template&id=0742cfb0&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./oilList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./oilList.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view>\n           <scroll-view scroll-x class=\"bg-white nav text-center\">\n                <view class=\"flex text-center\">\n                    <view class=\"cu-item flex-sub\" \n                        :class=\"index==TabCur?'text-blue cur':''\" \n                        v-for=\"(item,index) in tabNav\" \n                        :key=\"index\" @tap=\"tabSelect\" \n                        :data-id=\"index\">\n                    {{tabNav[index]}}\n                    </view>\n                </view>\n            </scroll-view>\n            <view class=\"line-h\"></view>\n            \n            <view class=\"cu-load load-customModal\" v-if=\"loadModal\">\n                <image src=\"/static/loading.gif\" mode=\"aspectFit\" class=\"gif-white response\">\n                    \n                </image>\n            </view>\n            \n            <view>\n                <view v-if=\"allData.length==0\" class=\"empty\">\n                    <image src=\"/static/empty.png\" class=\"emptyImg\"></image>\n                    <view class=\"emptyLabel\">\n                        空空如也<br>\n                    </view>\n                </view>\n                \n                \n                <view v-for=\"(item1,index1) in allData\" :key=\"index1\" >\n                \t<media-item :options=\"item1\">\n                    </media-item>\n                </view>\n                <view class=\"uni-loadmore\" \n                v-if=\"showLoadMoreALL\">{{loadMoreTextAll}}</view>\n            </view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n    import Vue from 'vue'\n    import {\n    \tmapState\n    } from 'vuex'\n    import mediaItem from '../index/card-item.vue';\n\texport default {\n        computed: mapState(['token', 'phone', 'userName']),\n        components: {\n            mediaItem\n        },\n\t\tdata() {\n\t\t\treturn {\n                type: 1, //0：代码全部记录，1：有效消费\n                tabIndex: 1,\n\t\t\t\tTabCur: 1,\n                cardNo:'',\n\t\t\t\ttabNav: ['全部', '有效消费'],\n                \n                CustomBar: this.CustomBar,\n                loadModal:false,\n                \n                showLoadMoreALL: false,\n                pageNoAll:1,\n                allData: [],\n                isLoadAll:false,\n                loadMoreTextAll: \"加载中...\",\n\t\t\t};\n\t\t},\n        methods: {\n            LoadModal(e) {\n                this.loadModal = true;\n            },\n            switchTab(index) {\n                this.TabCur = index;\n                this.initDataAll(this.cardNo);\n            },\n        \ttabSelect(e) {\n        \t\tthis.tabIndex = e.currentTarget.dataset.id;\n                this.pageNoAll=1,\n                this.allData=[];\n                this.isLoadAll=false;\n                this.loadMoreTextAll=\"加载中...\";\n                this.showLoadMoreALL=false;\n                this.switchTab(this.tabIndex);\n        \t},\n            initDataAll(cardNo){\n                this.LoadModal()\n                uni.request({\n                    url: this.GLOBAL.GetOilList_URL,\n                    dataType: 'jsonp',\n                    method: 'POST',\n\n                    data: {\n                        access_token:this.token,\n                        type: this.TabCur,\n                        sub_card:this.cardNo,\n                        page_no: this.pageNoAll, // 页码\n                        page_size: 10, //条数\n                    }\n                }).then(data => {\n                    //data为一个数组，数组第一项为错误信息，第二项为返回数据\n                    this.loadModal = false;\n                    var [error, res]  = data;\n                    console.log(res.data);\n                    let response = JSON.parse(res.data);\n                    if( response.code == \"000000\" ) {\n                        this.allData = [];\n                        this.allData = this.allData.concat(response.data); \n                        if (this.allData.length < 10) {\n                            this.loadMoreTextAll = \"没有更多数据了!\"\n                            this.showLoadMoreALL = true\n                        }                       \n                        if (this.allData.length == 0) {\n                            this.showLoadMoreALL = false\n                        }\n                        uni.stopPullDownRefresh();\n                    } else {\n                        if (response.code == \"000009\") {\n                            uni.clearStorage()\n                            this.$store.commit('logout')                          \n                            uni.reLaunch({\n                                url:'../launchPage/launchPage'\n                            });\n                        }  \n                        \n                        setTimeout(function () {\n                            uni.showToast({\n                            \ttitle:response.message,\n                                duration: 2000,\n                            \ticon:\"none\"\n                            })\n                        }, 1500);\n  \n                    }\n                }).catch(err => {\n                    this.loadModal = false;\n                \tconsole.log('request fail', err);\n                \tuni.showModal({\n                \t\tcontent: err.errMsg,\n                \t\tshowCancel: false\n                \t});\n                }); \n            },\n            \n            setListDataAll() {\n                this.pageNoAll = this.pageNoAll + 1;\n                this.LoadModal()\n                uni.request({\n                    url: this.GLOBAL.GetOilList_URL,\n                    dataType: 'jsonp',\n                    method: 'POST',\n                    data: {\n                        access_token:this.token,\n                        type: this.TabCur,\n                        sub_card:this.cardNo,\n                        page_no: this.pageNoAll, // 页码\n                        page_size: 10, //条数\n                    }\n                }).then(data => {\n                    //data为一个数组，数组第一项为错误信息，第二项为返回数据\n                    this.loadModal = false;\n                    var [error, res]  = data;\n                    console.log(res.data);\n                    let response = JSON.parse(res.data);\n                    if( response.code == \"000000\" ) {\n                        if (response.data.length != 10) {\n                            this.loadMoreTextAll = \"没有更多数据了!\"\n                            this.showLoadMoreALL = true\n                        } \n                        this.allData = this.allData.concat(response.data);\n                        uni.stopPullDownRefresh();\n                    } else {\n\n                        if (response.code == \"000009\") {\n                            uni.clearStorage()\n                            this.$store.commit('logout')                          \n                            uni.reLaunch({\n                                url:'../launchPage/launchPage'\n                            });\n                        } \n                        uni.showToast({\n                            title:response.message,\n                            icon:\"none\"\n                        })\n                    }\n                }).catch(err => {\n                    this.loadModal = false;\n                \tconsole.log('request fail', err);\n                \tuni.showModal({\n                \t\tcontent: err.errMsg,\n                \t\tshowCancel: false\n                \t});\n                }); \n            }\n        },\n        onLoad: function (option) {\n            console.log(option.cardNo); //打印出上个页面传递的参数。\n            this.cardNo = option.cardNo;\n            \n            this.initDataAll(option.cardNo);\n        },\n        onUnload() {\n        \tthis.allData = [],\n        \tthis.loadMoreTextAll = \"加载更多\",\n        \tthis.showLoadMoreALL= false;\n            \n        },\n        onReachBottom() {\n\n                if (this.loadMoreTextAll == \"没有更多数据了!\") {\n                \treturn;\n                }\n                this.showLoadMoreALL = true;\n                setTimeout(() => {\n                \tthis.setListDataAll();\n                }, 300);\n            \n        \tconsole.log(\"onReachBottom\");\n\n        },\n        onPullDownRefresh() {\n            this.pageNoAll = 1;\n            this.loadMoreTextAll= \"加载中...\"\n            this.showLoadMoreALL= false\n            this.allData = [];\n            this.initDataAll(this.cardNo);\n        },\n\t}\n</script>\n\n<style scoped>\n    \n    swiper {\r\n        width: 100%;\n        height: 100vh;\r\n    }\n    \n    .badge {\n        background-color: #007AFF;\n    }\n    \n    .line-h {\n        height: 1rpx;\n        background-color: #cccccc;\n    }\n    \n    .empty {\n        height: 400rpx;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: space-between;\n    }\n    .emptyImg {\n        margin-top: 20px;\n        width: 106px;\n        height: 112px;\n    }\n    .emptyLabel {\n        margin-top: 20px;\n        text-align: center;\n        color: #999999;\n    }\n    \n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./oilList.vue?vue&type=style&index=0&id=0742cfb0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./oilList.vue?vue&type=style&index=0&id=0742cfb0&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1599549239615\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}